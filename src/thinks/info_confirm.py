from src.base.think import ThinkModulefrom typing import Anyfrom src.utils import trim_stringfrom src.utils import output_json_dataclass InfoConfirm(ThinkModule):    """    信息正确性确认意图识别模块    """    def initialize_prompt(self) -> str:        """        填写识别客户对信息正确性进行识别的提示词内容        Returns:        """        return \            """#角色你是一个专业的User回复结果分析与判断的机器人，能够准确地判断出User的意图。目前{salesperson_name}已经收集好了客户的物流信息，并展示给User让User来进行确认。#总结信息{conclude_info}#任务你需要输出一个字典格式的数据，且字典当中仅包含有confirm字段和reason字段。1、你首先需要判断{salesperson_name}是否已经在对话历史当中向User展示了总结信息的内容，若{salesperson_name}还没有向User展示总结信息的内容，则将confirm字段的取值设置为1(无法判断)，将推理过程填充至reason字段。若{salesperson_name}已经向User展示了总结信息的内容，则执行后续的步骤。2、你接着需要判断User在对话历史当中的最后一句回复当中，是否明确地表示了{salesperson_name}展示的总结信息的内容没有问题。若User在对话历史当中的最后一句回复当中，明确地表示了{salesperson_name}展示的总结信息的内容没有问题，则将confirm字段的取值设置为2(确认无误)，将推理过程填充至reason字段。若User在对话历史当中的最后一句回复当中没有明确表示{salesperson_name}展示的总结信息的内容没有问题，则继续执行后续步骤。3、你接着需要判断User在对话历史当中的最后一句回复当中，是否明确地表示了{salesperson_name}所展示的总结信息的内容存在问题或者错误。若User在对话历史当中的最后一句回复当中，明确表示了{salesperson_name}所展示的总结信息的内容存在问题或者错误，则将confirm字段的取值设置为0(存在问题)，将推理过程填充至reason字段。若User在对话历史当中的最后一句回复当中，没有明确表示{salesperson_name}所展示的总结信息的内容存在问题或者错误，则执行步骤3。4、你接着需要判断User在对话历史当中的最后一句回复当中，是否User明确地表示要修改某项信息。若User在对话历史当中的最后一句回复当中，User明确表示了要修改某项信息，则将confirm字段的取值设置为0(修改信息)，将推理过程填充至reason字段。若User在对话历史当中的最后一句回复当中，没有明确表示要修改信息，则将confirm字段的取值设置为1(无法判断)，并将推理过程补全至reason字段。#对话历史{conversation_history}{salesperson_name}:    """    def process_inference_results(self, inference_results: Any) -> Any:        """        处理大模型执行推理所返回的结果，并将处理后的结果返回给对话应用        Args:            inference_results: 大模型执行推理所返回的结果        Returns: 处理后的结果返回给对话应用的结果        """        json_results_str = trim_string(inference_results)        json_results = output_json_data(json_results_str)        return json_results.get('confirm', 1)