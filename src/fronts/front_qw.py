# 标准库导入from typing import List, Dict, Anyfrom itertools import chain# 基础接口和类from src.base.store import Storefrom src.base.front import FrontInterface# 数据及逻辑存储类from src.stores.store_front import StoreFrontclass FrontQW(FrontInterface):    """    前端交互界面    """    def set_store_class(self) -> type:        """        前端交互界面指定的数据及逻辑存储类类型        Returns: 数据及逻辑存储类类型        """        return StoreFront    def gen_request(self, chat_contents: List, user_reply: str, store: Store) -> Dict:        """        生成请求中心对应应用参数入参        Args:            chat_contents: 聊天对话框的内容            user_reply: 用户最新回复的内容            store: 前端存储对象与对话应用的store对象无关        Returns:        """        conversation_history = [h for h in chain(*chat_contents[:]) if h is not None and h != '']        robot_name = getattr(store, 'robot_name')        received_info = {'data': getattr(store, 'key_values'), 'stage': getattr(store, 'stage')} \            if getattr(store, 'received_info') is None else getattr(store, 'received_info')        return {            "conversation_history": conversation_history,            "robot_name": robot_name,            "received_info": received_info        }    def update_store(self, inference_results: Any, store: Store) -> Store:        """        更新前端存储器store对象        Args:            inference_results: 对话应用处理生成的结果            store: 前端对话存储对象        Returns: 更新后的前端对话存储对象        """        store.received_info = inference_results.get('received_info')        store.key_values = getattr(store, 'received_info')['data']        store.stage = getattr(store, 'received_info')['stage']        return store    def process_inference_results(self, inference_results: Any, store: Store) -> str:        """        获取到推理结果后需要返回一段在聊天对话窗口当中进行显示的内容        Args:            inference_results: 对话应用处理生成的结果            store: 前端存储对象        Returns: 聊天对话窗口当中进行显示的内容        """        return getattr(store, 'robot_name') + ":" + inference_results.get('answer', "")